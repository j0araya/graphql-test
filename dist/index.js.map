{"version":3,"sources":["../src/index.js"],"names":["app","server","set","PORT","get","req","res","mongo","connection","once","console","log","use","bodyParser","json","graphiql","schema","rootValue","context","listen","SubscriptionServer","execute","subscribe","path","express","join","__dirname"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAQA,IAAMA,GAAG,GAAG,0BAAZ;AACA,IAAMC,MAAM,GAAG,wBAAaD,GAAb,CAAf;AAEA;AACAA,GAAG,CAACE,GAAJ,CAAQ,MAAR,EAAgBC,kBAAhB;AACAH,GAAG,CAACI,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc,CACzB;AACD,CAFD;;AAGAC,qBAAMC,UAAN,CAAiBC,IAAjB,CAAsB,MAAtB,EAA8B,YAAM;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD,CAFD;;AAGAX,GAAG,CAACY,GAAJ,CAAQ,GAAR,EAAa,uBAAb;AACAZ,GAAG,CAACY,GAAJ,CAAQ,8BAAR;AACAZ,GAAG,CAACY,GAAJ,CAAQ,UAAR,EAAoBC,uBAAWC,IAAX,EAApB,EAAuC,gCAAY;AACjDC,EAAAA,QAAQ,EAAE,IADuC;AAEjDC,EAAAA,MAAM,EAANA,mBAFiD;AAGjDC,EAAAA,SAAS,EAAE,QAHsC;AAIjDC,EAAAA,OAAO,EAAEF;AAJwC,CAAZ,CAAvC;AAOAf,MAAM,CAACkB,MAAP,CAAchB,kBAAd,EAAoB,YAAM;AACxB,MAAIiB,4CAAJ,CAAuB;AACrBC,IAAAA,OAAO,EAAPA,gBADqB;AAErBC,IAAAA,SAAS,EAATA,kBAFqB;AAGrBN,IAAAA,MAAM,EAANA;AAHqB,GAAvB,EAIG;AACDf,IAAAA,MAAM,EAAEA,MADP;AAEDsB,IAAAA,IAAI,EAAE;AAFL,GAJH,EADwB,CASxB;AACD,CAVD;AAYAvB,GAAG,CAACY,GAAJ,CAAQY,8BAAeD,iBAAKE,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR","sourcesContent":["import express from 'express';\nimport graphqlHTTP from 'express-graphql';\nimport { execute, subscribe } from 'graphql';\nimport schema from './schemas/schemas';\nimport Models from './models/Models';\nimport { connect } from './db';\nimport path from 'path';\nimport { createServer } from 'http';\nimport mongo from 'mongoose';\nimport cors from 'cors';\nimport compression from 'compression';\nimport bodyParser from 'body-parser';\nimport { SubscriptionServer } from 'subscriptions-transport-ws';\nimport { graphqlExpress } from 'apollo-server-express';\n\nimport {\n  // BASE_URI,\n  // WS_BASE_URI,\n  PORT,\n  // MONGO_URI,\n  // MONGO_DATABASE_NAME,\n} from './serverConfig';\n\nconst app = express();\nconst server = createServer(app);\n\nconnect();\napp.set('port', PORT);\napp.get('/', (req, res) => {\n  // res.json({ message: 'it WOrks' });\n});\nmongo.connection.once('open', () => {\n  console.log('connected to database');\n})\napp.use('*', cors());\napp.use(compression());\napp.use('/graphql', bodyParser.json(), graphqlHTTP({\n  graphiql: true,\n  schema,\n  rootValue: 'global',\n  context: schema,\n}));\n\nserver.listen(PORT, () => {\n  new SubscriptionServer({\n    execute,\n    subscribe,\n    schema,\n  }, {\n    server: server,\n    path: '/subscriptions',\n  });\n  // console.log('Server running succefully...'. PORT)\n})\n\napp.use(express.static(path.join(__dirname, 'public')));\n"],"file":"index.js"}